# 出欠一覧 (Attendance List)

## 目的
- 運営がイベントごとの参加状況を一目で把握し、声かけ対象を判断できるようにする。
- メンバー自身も自分の回答状態を確認し、締切までに更新できるようにする。

## 表示仕様
- イベント詳細配下にタブ表示。`manager` 権限は全員分、`member` は自分と公開設定に応じたメンバーのみ閲覧。
- 各行: メンバー名、現在のステータス（参加/不参加/保留）、コメントアイコン、最終更新日時。
- 絞り込み: ステータス別フィルタ、未回答のみ表示。

## データソース
- `attendance` テーブル: `id`, `event_id`, `member_id`, `status`, `comment`, `updated_at`。
- `profiles` との結合で表示名とポジションを取得。
- Supabase RLS: `manager` は同イベントの全レコード、`member` は自身の行のみ SELECT 可能。公開用ビュー `attendance_public_view` は `status` が `participating` のみ名前を表示。

## 技術メモ
- Flutter は `StreamBuilder` で `attendance` の Realtime を購読し、一覧の即時更新を実現。
- コメントが長い場合はツールチップ表示に留め、詳細はコメントモーダルで確認することで UI を簡潔に保つ。

## 決定理由
- ステータス別フィルタにより、運営が不足ポジションを素早く把握できることが運用効率に直結する。
- プライバシー配慮でメンバーは自分の情報のみ閲覧可能とし、公開可否は status ベースで制御する設計に統一した。
