# イベント一覧 (Event List)

## 目的
- メンバーと運営が同一 UI で直近イベントを確認し、参加判断を素早く下せるようにする。
- Supabase の RLS 制御下で `manager` 権限のみが下書きイベントを閲覧できる状態を維持する。

## 表示・インタラクション
- デフォルトは開催日時の昇順で 30 件まで取得し、無限スクロールは MVP 範囲外。
- 各行にはタイトル、開催日、会場（Google Maps の Place 名）、参加締切バッジを表示。
- 出欠が未回答のメンバーにはバッジを表示し、タップで詳細画面へ遷移。

## データ取得
- `events` テーブルをベースに `events_public_view`（RLS で公開対象のみ）を参照。
- フィールド: `id`, `title`, `start_at`, `rsvp_deadline`, `place_name`, `status`, `is_draft`。
- 一覧では payload を軽量に保つため、参加者統計やノート等は含めない。

## 技術ポイント
- Flutter 側は `supabase_flutter` の `stream()` で Realtime を購読し、運営が編集した場合もリストが即時反映される。
- Google Maps サムネイルはキャッシュ済みの静的画像 URL を併用し、API 課金を抑制。

## 決定理由
- 一覧を軽量化し詳細情報を別画面に分離することで、初回ロード時間を短縮し回線環境が悪くても閲覧できる UX を優先。
- Realtime を採用することで、運営が直前で会場を変えた場合もメンバーへ即座に同期できる運営課題に対応。
