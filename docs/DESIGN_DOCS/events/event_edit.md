# イベント編集 (Event Edit)

## 目的
- 運営が開催日時や会場変更をリアルタイムに反映し、メンバーへ確実に伝達する。
- 変更履歴を追跡できるようにして、誤編集時のリカバリを容易にする。

## 編集範囲
- 基本情報（タイトル/日時/会場/種別）、募集設定（定員・締切・公開対象）、詳細メモ。
- 集合日時 < 開始日時、締切 <= 開始日時など作成時と同様のバリデーションを再利用。

## UI / UX
- 詳細画面から編集画面へ遷移し、作成フォームを初期値付きで再利用。
- 変更差分を確認できる「更新内容サマリ」を保存前に表示（開始日時と会場のみ差分強調）。

## データフロー
- 更新操作は Supabase の `update()` を使用し、`updated_by` と `updated_at` を必ず更新。
- 変更後に Edge Function `notifications_enqueue` に `type=event_updated` で通知要求を送信。
- 重要フィールド（日時/会場）が変わった場合は `event_change_logs` テーブルへ差分を INSERT。

## 決定理由
- 作成フォームを共有化することでメンテコストを削減し、運用チームが UI 差異に迷わない。
- 差分ログを別テーブルで保持することで、参加者から「いつ変わったか？」の問い合わせに回答しやすくする。
